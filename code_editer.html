<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editable JavaScript Code Editor (Dark Mode)</title>
    <!-- Add CodeMirror and Prettier stylesheets and scripts -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/theme/dracula.min.css">
    <style>
        body {
            font-family: 'Courier New', monospace;
            margin: 0;
            padding: 0;
            background-color: #2e2e2e;
            color: #f1f1f1;
        }
        .container {
            width: 80%;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            color: #fff;
            text-align: center;
        }
        #editor {
            width: 100%;
            height: 300px;
            border: 1px solid #444;
            border-radius: 5px;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            background-color: #007acc;
            color: white;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 20px;
        }
        button:hover {
            background-color: #005fa3;
        }
        #output {
            margin-top: 20px;
            padding: 20px;
            background-color: #1e1e1e;
            border: 1px solid #444;
            border-radius: 5px;
            white-space: pre-wrap;
            word-wrap: break-word;
            height: 200px;
            overflow-y: scroll;
            color: #f1f1f1;
        }
        #output.error {
            background-color: #e74c3c;
            color: white;
        }
        #output.success {
            background-color: #2ecc71;
            color: white;
        }
    </style>
</head>
<body>

    <div class="container">
        <h3>Code Editor</h3>
        <div id="editor"></div>
        <button onclick="runCode()">Run Code</button>
        <div id="output"></div>
    </div>

    <!-- Add CodeMirror and Prettier scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prettier/2.8.3/standalone.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prettier/2.8.3/parser-babel.min.js"></script>

    <script>
        // Initialize CodeMirror for syntax highlighting
        var editor = CodeMirror(document.getElementById('editor'), {
            value: `// console.log("Hello world");
// alert("hello mithlesh")

// console.log("watching ");
// // Q2
// console.log(45*2 -10);

//Q3
// let dt = new Date().toISOString().split('T')[0];
// let d = new Date().getDate();
// let m = new Date().getMonth();
// let y = new Date().getFullYear();
// console.log(dt,y, d, m)

//Q4 

// let stname= "mithlesh";
// let lname = "prasad";

// console.log(\`\${stname}\` + " " + \`\${lname}\`)
//Q 5
// var a = 20;

// console.log(a);

// a = 30;

// console.log(a);

//Q 6 
// console.error("error");

//Q 7 
// console.log(12* 12)

//Q8
// let a= 12;
// let str = "mithlesh";

// let b = true;

// console.log(typeof a);
// console.log(typeof str);
// console.log(typeof b)
// console.log(typeof CUTIE)


//Q9 

// const age = 24;
//  if(age > 18) {
     
// console.log(age)
//  }

//Q10

// console.log(100/0)


//Q11 

// let a= 12;

// console.log(a)


//Q12

// let pi = Math.PI;

// console.log(pi)


//Q13

// var a= 30;
// console.log(a)

// var a= 50;


// console.log(a)


//Q14

// let  a = true;

// console.log(typeof a);


//Q 15 

// let str = "24";

// console.log(typeof str)

//Q 16
// let str = "mithlesh";

// let a= 12
// let  b= true;


// console.log(typeof str);
// console.log(typeof a);
// console.log(typeof b);


//Q18 

// let b;

// console.log(b)

//Q 19

// let b ;
//  console.log(typeof b);

//Q 20  
//  let a= undefined;
 
//  console.log(typeof a);

// const arr = [];

//  arr.push(12);
 
//  console.log(arr);
 
//  console.log(arr.length)

//Q 21 

// let n = 12;

// for(let i =0 ; i< n; i++){
//     console.log(i);
// }

//Q 22 

/*let  n = 1;
let sum = 0;

while(n < 11){
    sum += n;
    n++;
}
console.log(sum)*/


//Q 23

// let  str = " mithleshbaby";

// for(let ch of str){
//     console.log(ch)
// }


//Q 24 
// let n= 20
// let lt = 0;
// for(let i = 1 ; i <= n ; i++){
//     if(i % 2 == 0){
//         console.log(i)
//         lt += i 
//     }
// }
// console.log(lt)

//Q 25 

// let arr = [12,23,24,34,15,28,56,18];

// console.log(arr)
// arr.push(27)
// console.log(arr)
// console.log(arr.indexOf(24));
// arr.pop()
// console.log(arr)

// arr.unshift(8)
// console.log(arr)

// arr.shift();
// console.log(arr)


//  arr.forEach((item) => console.log(item) );
 
// const newarr = arr.map((arr1) => arr1 * 2);
// console.log(newarr)

// const filterarr = arr.filter((arr1) => arr1 % 2 == 0)
// console.log(filterarr)

// const reducerarr = arr.reduce((a, b ) =>  a + b , 0)
// console.log(reducerarr)

// const somearr = arr.some((arr1) => arr1 % 2 == 0);

// console.log(somearr)
// const everyarr = arr.every((arr1) => arr1 % 2 == 0); 
// console.log(everyarr)

// const foundarr = arr.find((arr1)=> arr1> 12)

// console.log(foundarr)


// const indexarr = arr.findIndex((arr1) => arr > 12)
// console.log(indexarr)
 
//  const reversearr = arr.reverse();
//  console.log(reversearr)
 
//  const shortarr = arr.sort();
 
//  console.log(shortarr)
//  const arr123  = [1,2,4,[5,6,7],[8,9,20]]
//  const flatarr = arr123.flat();
 
//  console.log(flatarr)
 
//  const includearr = arr.includes(18)
//  console.log(includearr)
//   const includesarr = arr.includes(26);
//   console.log(includesarr)
 
// const arr1 = [1,2,3,4];
// const arr2 = [5,6,7]
// const concatarr = arr1.concat(arr2);
// console.log(concatarr)

// const joinarr = arr.join('-')
// console.log(joinarr)
// console.log(arr.length)
`,
            mode: "javascript",
            theme: "dracula", // Dark mode theme
            lineNumbers: true,
            autoCloseBrackets: true,
            matchBrackets: true,
            indentUnit: 4,
        });

        // Function to format and run the code
        function runCode() {
            const code = editor.getValue();  // Get the code from the editor
            const outputDiv = document.getElementById('output');
            
            // Format the code using Prettier
            const formattedCode = prettier.format(code, {
                parser: "babel", 
                plugins: [prettierPlugins.babel],
            });

            // Set the code in the editor to the formatted code
            editor.setValue(formattedCode);

            // Clear previous output
            outputDiv.textContent = "";
            outputDiv.classList.remove('error', 'success');

            // Override console.log to capture output
            const originalConsoleLog = console.log;
            console.log = function (...args) {
                outputDiv.textContent += args.join(' ') + '\n';
                originalConsoleLog.apply(console, args); // Preserve original console.log behavior
            };

            try {
                // Execute the JavaScript code
                eval(formattedCode);

                // If no errors, mark as success
                outputDiv.classList.add('success');
            } catch (error) {
                // Display error message in the output area
                outputDiv.classList.add('error');
                outputDiv.textContent = "Error: " + error.message;
            } finally {
                // Restore the original console.log
                console.log = originalConsoleLog;
            }
        }
    </script>

</body>
</html>
